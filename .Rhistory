mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + as.difftime(X.day - 1, units = "days"))
startdate = "2020-07-06"
data = data.prep(lag = 7, shift = 14, response = "median_R_mean", r.infovar = 21, frequency = "daily")$data %>%
mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + as.difftime(X.day - 1, units = "days"))
data = data.prep(lag = 7, shift = 14, response = "median_R_mean", r.infovar = 21, frequency = "daily")$data %>%
mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + seq(X.day - 1, by = "days"))
str(data)
data = data.prep(lag = 7, shift = 14, response = "median_R_mean", r.infovar = 21, frequency = "daily")$data %>%
mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + seq((X.day - 1), by = "days"))
startdate = as.Date("2020-07-06")
data = data.prep(lag = 7, shift = 14, response = "median_R_mean", r.infovar = 21, frequency = "daily")$data %>%
mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + seq((X.day - 1), by = "days"))
data = data.prep(lag = 7, shift = 14, response = "median_R_mean", r.infovar = 21, frequency = "daily")$data %>%
mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + X.day - 1)
View(data)
data = data.prep(lag = 7, shift = 14, response = "median_R_mean", r.infovar = 21, frequency = "daily")$data %>%
mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + X.day)
View(data)
data = data.prep(lag = 7, shift = 14, response = "median_R_mean", r.infovar = 21, frequency = "daily")$data %>%
mutate(W_bin = ifelse(W > 0, 1, 0),
date = startdate + X.day - 134)
View(data)
str(data)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.9) +
stat_summary(
fun.data = "mean_sdl",
fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin))
) +
labs(x = "Time", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.9) +
stat_summary(
fun.data = "mean_sdl",
fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.9) +
stat_summary(
fun.data = "mean_sdl",
fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "blue", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.9) +
stat_summary(
fun.data = "mean_sdl",
fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "gray", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
fun.args = list(mult = 2),
geom = "line",
aes(group = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = 2)
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = 1.5)
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = 1.5)
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = 1.25)
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = 1.1)
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1, "1" = 1.5)) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", lwd = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1, "1" = 1.5)) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", group = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1, "1" = 1.5)) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", lwd = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1, "1" = 1.5)) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), lwd = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", lwd = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.1, "1" = 1.1)) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.1, "1" = 1.1)) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = guide_legend(override.aes = list(linetype = c("solid", "dashed"), size = NULL))) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = F) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = FALSE) +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = 0.6) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = factor(W == 1)) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = factor(W_bin == 1)) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = (W_bin == 1)) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
View(data)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = factor(data$W_bin == 1)) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = factor(data$W_bin == 0)) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = alpha = ifelse(data$W_bin == 0, 0.2, 1)) +
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = ifelse(data$W_bin == 0, 0.2, 1)) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
pdf(".\\Plots\\over_time_policy.pdf", width = 20, height = 10)
ggplot(data, aes(x = date, y = Y, color = factor(W_bin))) +
geom_point(alpha = ifelse(data$W_bin == 0, 0.3, 1)) +
stat_summary(
fun.data = "mean_sdl",
#fun.args = list(mult = 1.5),
geom = "line",
aes(group = factor(W_bin), size = factor(W_bin))
) +
labs(x = "", y = "Effective Reproductive Number", color = "W", size = "") +
scale_color_manual(values = c("0" = "black", "1" = "firebrick")) +
scale_size_manual(values = c("0" = 1.2, "1" = 1.2)) +
guides(size = "none") +
theme_minimal() +
theme(
legend.position = "top",
legend.title = element_blank(),
legend.spacing = unit(0.3, "cm")
)
dev.off()
